"use strict";var form=document.querySelector(".js-form"),input=document.querySelector(".js-input"),btn=document.querySelector(".js-btn"),listWrapper=document.querySelector(".bookmarks-list"),source=document.querySelector("#js_markup").innerHTML.trim(),template=Handlebars.compile(source),links=void 0;function checkURL(e){return/^(?:(?:https?|ftp|telnet):\/\/(?:[a-z0-9_-]{1,32}(?::[a-z0-9_-]{1,32})?@)?)?(?:(?:[a-z0-9-]{1,128}\.)+(?:com|net|org|mil|edu|arpa|ru|gov|biz|info|aero|inc|name|[a-z]{2})|(?!0)(?:(?!0[^.]|255)[0-9]{1,3}\.){3}(?!0|255)[0-9]{1,3})(?:\/[a-z0-9.,_@%&?+=\~\/-]*)?(?:#[^ \'\"&<>]*)?$/i.test(e)}function createList(e){var t=e.reduce(function(e,t){return e+template({name:"Site:"+t,url:t,descr:"descr",img:"..."})},"");listWrapper.insertAdjacentHTML("afterbegin",t),console.log("CreateList")}function handlerAddNote(e){e.preventDefault();e.target;var t=input.value;links.includes(t)?alert("Такой адрес существует!"):checkURL(t)&&links.push(t),form.reset(),localStorage.links=JSON.stringify(links),console.log(links),createList([t])}function deleteItem(e){e.target.nodeName;var t=e.target.parentNode;"BUTTON"&&t.remove()}window.onload=function(){createList(links=localStorage.getItem("links")?JSON.parse(localStorage.getItem("links")):[])},listWrapper.addEventListener("click",deleteItem),btn.addEventListener("click",handlerAddNote);